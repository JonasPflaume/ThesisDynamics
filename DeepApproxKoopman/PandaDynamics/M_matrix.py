def M_panda(parms, q, cos, sin):
#
    M = [0]*49
#
    x0 = -cos(q[1])
    x1 = -sin(q[1])
    x2 = sin(q[3])
    x3 = -x0
    x4 = cos(q[3])
    x5 = cos(q[2])
    x6 = x1*x5
    x7 = x2*x3 + x4*x6
    x8 = -0.316*x6
    x9 = -x8
    x10 = -0.0825*x3 + x9
    x11 = -x6
    x12 = x11*x2 + x3*x4
    x13 = -x12
    x14 = cos(q[4])
    x15 = -x14
    x16 = x10 - 0.0825*x13 + 0.384*x7
    x17 = sin(q[2])
    x18 = -x1*x17
    x19 = -x18
    x20 = 0.0825*x19
    x21 = -0.316*x17
    x22 = x1*x21
    x23 = x2*x20 + x22*x4
    x24 = -x19
    x25 = x23 + 0.384*x24
    x26 = sin(q[4])
    x27 = -x26
    x28 = x15*x16 + x25*x27
    x29 = x14*x7 + x24*x26
    x30 = -x29
    x31 = cos(q[5])
    x32 = sin(q[5])
    x33 = x12*x31 + x30*x32
    x34 = -x33
    x35 = sin(q[6])
    x36 = -x28
    x37 = 0.088*x34 + x36
    x38 = -x22
    x39 = x2*x38 + x20*x4
    x40 = -0.0825*x19 + x39
    x41 = x14*x25 + x16*x27
    x42 = x31*x41 + x32*x40
    x43 = cos(q[6])
    x44 = x35*x37 + x42*x43
    x45 = x12*x32 + x29*x31
    x46 = -x45
    x47 = -x7
    x48 = x14*x24 + x26*x47
    x49 = -x48
    x50 = x35*x46 + x43*x49
    x51 = -parms[67]*x34 + parms[68]*x50 + parms[69]*x44
    x52 = x35*x51
    x53 = x35*x49 + x43*x45
    x54 = -x42
    x55 = x35*x54 + x37*x43
    x56 = parms[66]*x34 - parms[68]*x53 + parms[69]*x55
    x57 = x43*x56
    x58 = parms[46]*x12 + parms[48]*x30 + parms[49]*x28 - parms[56]*x34 - parms[57]*x45 - parms[59]*x36 - x52 - x57
    x59 = -x41
    x60 = x31*x40 + x32*x59
    x61 = -x60
    x62 = -0.088*x49 + x61
    x63 = -parms[66]*x50 + parms[67]*x53 + parms[69]*x62
    x64 = parms[56]*x49 + parms[58]*x46 + parms[59]*x60 - x63
    x65 = -x32
    x66 = -x35
    x67 = -parms[57]*x49 + parms[58]*x33 + parms[59]*x42 + x43*x51 + x56*x66
    x68 = parms[47]*x13 + parms[48]*x48 + parms[49]*x41 + x31*x67 + x64*x65
    x69 = parms[36]*x13 + parms[37]*x7 + parms[39]*x10 + x15*x58 + x27*x68
    x70 = x26*x68
    x71 = -parms[56]
    x72 = -parms[67]
    x73 = parms[62]*x53 + parms[64]*x50 + parms[65]*x34 + parms[66]*x55 + x44*x72
    x74 = parms[51]*x45 + parms[53]*x33 + parms[54]*x49 + parms[58]*x42 + x36*x71 - 0.088*x52 - 0.088*x57 - x73
    x75 = -parms[66]
    x76 = parms[61]*x53 + parms[63]*x50 + parms[64]*x34 + parms[68]*x44 + x62*x75
    x77 = -parms[68]
    x78 = parms[60]*x53 + parms[61]*x50 + parms[62]*x34 + parms[67]*x62 + x55*x77
    x79 = parms[50]*x45 + parms[51]*x33 + parms[52]*x49 + parms[57]*x36 + parms[58]*x61 + x43*x78 + x66*x76
    x80 = parms[42]*x29 + parms[44]*x48 + parms[45]*x12 + parms[46]*x28 + parms[47]*x59 + x31*x74 + x32*x79
    x81 = -parms[36]
    x82 = x14*x58
    x83 = parms[31]*x7 + parms[33]*x12 + parms[34]*x19 + parms[38]*x23 + x10*x81 - 0.0825*x70 + x80 - 0.0825*x82
    x84 = parms[40]*x29 + parms[41]*x48 + parms[42]*x12 + parms[47]*x40 + parms[48]*x36 + x31*x79 + x65*x74
    x85 = -parms[46]
    x86 = parms[52]*x45 + parms[54]*x33 + parms[55]*x49 + parms[56]*x60 + parms[57]*x54 + x35*x78 + x43*x76 - 0.088*x63
    x87 = parms[41]*x29 + parms[43]*x48 + parms[44]*x12 + parms[48]*x41 + x40*x85 - x86
    x88 = -parms[38]
    x89 = parms[30]*x7 + parms[31]*x12 + parms[32]*x19 + parms[37]*x10 + x14*x84 + x27*x87 + x39*x88 - 0.384*x70 - 0.384*x82
    x90 = parms[22]*x6 + parms[24]*x18 + parms[25]*x3 + parms[26]*x8 + parms[27]*x38 + x2*x89 + x4*x83 - 0.0825*x69
    x91 = -x2
    x92 = parms[20]*x6 + parms[21]*x18 + parms[22]*x3 + parms[28]*x9 + x4*x89 + x83*x91
    x93 = parms[46]*x49 + parms[47]*x29 + parms[49]*x40 + x31*x64 + x32*x67
    x94 = parms[36]*x19 + parms[38]*x47 + parms[39]*x39 + x93
    x95 = -parms[37]
    x96 = x14*x68
    x97 = 0.384*x26
    x98 = parms[32]*x7 + parms[34]*x12 + parms[35]*x19 + parms[36]*x39 + x15*x87 + x23*x95 + x27*x84 + x58*x97 - 0.0825*x93 - 0.384*x96
    x99 = parms[37]*x24 + parms[38]*x12 + parms[39]*x23 + x27*x58 + x96
    x100 = parms[21]*x6 + parms[23]*x18 + parms[24]*x3 + parms[28]*x22 - 0.0825*x2*x99 - 0.0825*x4*x94 - x98
    x101 = -x17
    x102 = -parms[27]*x3 + parms[28]*x18 + parms[29]*x22 + x4*x99 + x91*x94
    x103 = parms[26]*x3 + parms[28]*x11 + parms[29]*x8 - x69
    x104 = parms[12]*x1 + parms[14]*x0 + x100*x5 + 0.316*x102*x5 + x103*x21 + x17*x92
    x105 = x17*x91
    x106 = -x5
    x107 = x17*x4
    x108 = x106*x27 + x107*x14
    x109 = x105*x31 + x108*x65
    x110 = -x109
    x111 = x106*x15 + x107*x27
    x112 = -x111
    x113 = x105*x32 + x108*x31
    x114 = x112*x35 + x113*x43
    x115 = 0.0825*x106
    x116 = 0.316*x5
    x117 = x115*x4 + x116*x91
    x118 = -0.0825*x106 + x117
    x119 = -x106
    x120 = x115*x2 + x116*x4
    x121 = 0.384*x119 + x120
    x122 = -x21
    x123 = -x105
    x124 = 0.384*x107 + x122 - 0.0825*x123
    x125 = x121*x14 + x124*x27
    x126 = x118*x32 + x125*x31
    x127 = x121*x27 + x124*x15
    x128 = -x127
    x129 = 0.088*x110 + x128
    x130 = x126*x66 + x129*x43
    x131 = parms[66]*x110 - parms[68]*x114 + parms[69]*x130
    x132 = x131*x43
    x133 = x126*x43 + x129*x35
    x134 = x112*x43 + x113*x66
    x135 = -parms[67]*x110 + parms[68]*x134 + parms[69]*x133
    x136 = x135*x35
    x137 = parms[46]*x105 - parms[48]*x108 + parms[49]*x127 - parms[56]*x110 - parms[57]*x113 - parms[59]*x128 - x132 - x136
    x138 = x118*x31 + x125*x65
    x139 = -x138
    x140 = -0.088*x112 + x139
    x141 = -parms[66]*x134 + parms[67]*x114 + parms[69]*x140
    x142 = parms[56]*x112 - parms[58]*x113 + parms[59]*x138 - x141
    x143 = -parms[57]*x112 + parms[58]*x109 + parms[59]*x126 + x131*x66 + x135*x43
    x144 = parms[47]*x123 + parms[48]*x111 + parms[49]*x125 + x142*x65 + x143*x31
    x145 = parms[36]*x123 + parms[37]*x107 + parms[39]*x122 + x137*x15 + x144*x27
    x146 = x144*x26
    x147 = parms[60]*x114 + parms[61]*x134 + parms[62]*x110 + parms[67]*x140 + x130*x77
    x148 = -parms[57]
    x149 = parms[61]*x114 + parms[63]*x134 + parms[64]*x110 + parms[68]*x133 + x140*x75
    x150 = parms[52]*x113 + parms[54]*x109 + parms[55]*x112 + parms[56]*x138 + x126*x148 - 0.088*x141 + x147*x35 + x149*x43
    x151 = parms[41]*x108 + parms[43]*x111 + parms[44]*x105 + parms[48]*x125 + x118*x85 - x150
    x152 = parms[62]*x114 + parms[64]*x134 + parms[65]*x110 + parms[66]*x130 + x133*x72
    x153 = parms[51]*x113 + parms[53]*x109 + parms[54]*x112 + parms[58]*x126 + x128*x71 - 0.088*x132 - 0.088*x136 - x152
    x154 = parms[50]*x113 + parms[51]*x109 + parms[52]*x112 + parms[57]*x128 + parms[58]*x139 + x147*x43 + x149*x66
    x155 = parms[40]*x108 + parms[41]*x111 + parms[42]*x105 + parms[47]*x118 + parms[48]*x128 + x153*x65 + x154*x31
    x156 = x137*x14
    x157 = parms[30]*x107 + parms[31]*x105 + parms[32]*x106 + parms[37]*x122 + x117*x88 + x14*x155 - 0.384*x146 + x151*x27 - 0.384*x156
    x158 = -parms[47]
    x159 = parms[42]*x108 + parms[44]*x111 + parms[45]*x105 + parms[46]*x127 + x125*x158 + x153*x31 + x154*x32
    x160 = parms[31]*x107 + parms[33]*x105 + parms[34]*x106 + parms[38]*x120 + x122*x81 - 0.0825*x146 - 0.0825*x156 + x159
    x161 = x14*x144
    x162 = parms[46]*x112 + parms[47]*x108 + parms[49]*x118 + x142*x31 + x143*x32
    x163 = parms[32]*x107 + parms[34]*x105 + parms[35]*x106 + parms[36]*x117 + x120*x95 + x137*x97 + x15*x151 + x155*x27 - 0.384*x161 - 0.0825*x162
    x164 = parms[36]*x106 - parms[38]*x107 + parms[39]*x117 + x162
    x165 = parms[37]*x119 + parms[38]*x105 + parms[39]*x120 + x137*x27 + x161
    x166 = parms[22]*x17 + parms[24]*x5 + parms[26]*x21 - parms[27]*x116 - 0.0825*x145 + x157*x2 + x160*x4
    x167 = -x4
    x168 = -0.0825*x167 + 0.384*x2 - 0.0825
    x169 = x168*x27
    x170 = x2*x27
    x171 = -x170
    x172 = x169*x65
    x173 = -x172
    x174 = -0.088*x171 + x173
    x175 = x14*x2
    x176 = x175*x31 + x32*x4
    x177 = x171*x43 + x176*x66
    x178 = x171*x35 + x176*x43
    x179 = -parms[66]*x177 + parms[67]*x178 + parms[69]*x174
    x180 = parms[56]*x171 - parms[58]*x176 + parms[59]*x172 - x179
    x181 = x15*x168
    x182 = -x181
    x183 = x175*x65 + x31*x4
    x184 = -x183
    x185 = x182 + 0.088*x184
    x186 = x169*x31
    x187 = x185*x35 + x186*x43
    x188 = -parms[67]*x184 + parms[68]*x177 + parms[69]*x187
    x189 = x185*x43 + x186*x66
    x190 = parms[66]*x184 - parms[68]*x178 + parms[69]*x189
    x191 = -parms[57]*x171 + parms[58]*x183 + parms[59]*x186 + x188*x43 + x190*x66
    x192 = parms[47]*x167 + parms[48]*x170 + parms[49]*x169 + x180*x65 + x191*x31
    x193 = x192*x26
    x194 = x188*x35
    x195 = x190*x43
    x196 = parms[62]*x178 + parms[64]*x177 + parms[65]*x184 + parms[66]*x189 + x187*x72
    x197 = parms[51]*x176 + parms[53]*x183 + parms[54]*x171 + parms[58]*x186 + x182*x71 - 0.088*x194 - 0.088*x195 - x196
    x198 = parms[61]*x178 + parms[63]*x177 + parms[64]*x184 + parms[68]*x187 + x174*x75
    x199 = parms[60]*x178 + parms[61]*x177 + parms[62]*x184 + parms[67]*x174 + x189*x77
    x200 = parms[50]*x176 + parms[51]*x183 + parms[52]*x171 + parms[57]*x182 + parms[58]*x173 + x198*x66 + x199*x43
    x201 = parms[42]*x175 + parms[44]*x170 + parms[45]*x4 + parms[46]*x181 + x158*x169 + x197*x31 + x200*x32
    x202 = parms[46]*x4 - parms[48]*x175 + parms[49]*x181 - parms[56]*x184 - parms[57]*x176 - parms[59]*x182 - x194 - x195
    x203 = x14*x202
    x204 = parms[52]*x176 + parms[54]*x183 + parms[55]*x171 + parms[56]*x172 + x148*x186 - 0.088*x179 + x198*x43 + x199*x35
    x205 = parms[41]*x175 + parms[43]*x170 + parms[44]*x4 + parms[48]*x169 - x204
    x206 = parms[40]*x175 + parms[41]*x170 + parms[42]*x4 + parms[48]*x182 + x197*x65 + x200*x31
    x207 = parms[32]*x2 + parms[34]*x4 - 0.0825*parms[46]*x171 - 0.0825*parms[47]*x175 - 0.384*x14*x192 + x15*x205 - 0.0825*x180*x31 - 0.0825*x191*x32 + x202*x97 + x206*x27
    x208 = -x97
    x209 = x27*x65
    x210 = -x209
    x211 = x208 + 0.088*x210
    x212 = -0.384*x14
    x213 = x212*x31 - 0.0825*x32
    x214 = x211*x35 + x213*x43
    x215 = x27*x31
    x216 = -x15
    x217 = x215*x66 + x216*x43
    x218 = -parms[67]*x210 + parms[68]*x217 + parms[69]*x214
    x219 = x215*x43 + x216*x35
    x220 = x211*x43 + x213*x66
    x221 = parms[66]*x210 - parms[68]*x219 + parms[69]*x220
    x222 = -parms[57]*x216 + parms[58]*x209 + parms[59]*x213 + x218*x43 + x221*x66
    x223 = x212*x65 - 0.0825*x31
    x224 = -x223
    x225 = -0.088*x216 + x224
    x226 = -parms[66]*x217 + parms[67]*x219 + parms[69]*x225
    x227 = parms[56]*x216 - parms[58]*x215 + parms[59]*x223 - x226
    x228 = x218*x35
    x229 = x221*x43
    x230 = parms[61]*x219 + parms[63]*x217 + parms[64]*x210 + parms[68]*x214 + x225*x75
    x231 = parms[60]*x219 + parms[61]*x217 + parms[62]*x210 + parms[67]*x225 + x220*x77
    x232 = parms[50]*x215 + parms[51]*x209 + parms[52]*x216 + parms[57]*x208 + parms[58]*x224 + x230*x66 + x231*x43
    x233 = parms[62]*x219 + parms[64]*x217 + parms[65]*x210 + parms[66]*x220 + x214*x72
    x234 = parms[51]*x215 + parms[53]*x209 + parms[54]*x216 + parms[58]*x213 + x208*x71 - 0.088*x228 - 0.088*x229 - x233
    x235 = parms[52]*x215 + parms[54]*x209 + parms[55]*x216 + parms[56]*x223 + x148*x213 - 0.088*x226 + x230*x43 + x231*x35
    x236 = parms[42]*x27 + parms[44]*x15 + parms[46]*x97 + x158*x212 + x232*x32 + x234*x31
    x237 = x32*x66
    x238 = -x31
    x239 = 0.088*x238
    x240 = x239*x43
    x241 = x32*x43
    x242 = x239*x35
    x243 = parms[62]*x241 + parms[64]*x237 + parms[65]*x238 + parms[66]*x240 + x242*x72
    x244 = parms[61]*x241 + parms[63]*x237 + parms[64]*x238 + parms[68]*x242
    x245 = parms[60]*x241 + parms[61]*x237 + parms[62]*x238 + x240*x77
    x246 = parms[52]*x32 + parms[54]*x31 + 0.088*parms[66]*x237 - 0.088*parms[67]*x241 + x244*x43 + x245*x35
    x247 = parms[62]*x35 + parms[64]*x43
#
    M[0] = parms[5] + x0*(parms[11]*x1 + parms[13]*x0 - x90) + x1*(parms[10]*x1 + parms[11]*x0 + x100*x101 - 0.316*x102*x17 - 0.316*x103*x5 + x5*x92)
    M[1] = x104
    M[2] = x90
    M[3] = x98
    M[4] = x80
    M[5] = x86
    M[6] = x73
    M[7] = x104
    M[8] = parms[15] + x116*(parms[28]*x5 + parms[29]*x116 + x164*x91 + x165*x4) + x17*(parms[20]*x17 + parms[21]*x5 + parms[28]*x122 + x157*x4 + x160*x91) + x21*(parms[28]*x101 + parms[29]*x21 - x145) + x5*(parms[21]*x17 + parms[23]*x5 + parms[28]*x116 - x163 - 0.0825*x164*x4 - 0.0825*x165*x2)
    M[9] = x166
    M[10] = x163
    M[11] = x159
    M[12] = x150
    M[13] = x152
    M[14] = x90
    M[15] = x166
    M[16] = parms[25] - 0.0825*parms[36]*x167 - 0.0825*parms[37]*x2 + 0.00680625*parms[39] - 0.0825*x15*x202 - 0.0825*x192*x27 + x2*(parms[30]*x2 + parms[31]*x4 - 0.0825*parms[37] + x14*x206 - 0.384*x193 - 0.384*x203 + x205*x27) + x4*(parms[31]*x2 + parms[33]*x4 + 0.0825*parms[36] - 0.0825*x193 + x201 - 0.0825*x203)
    M[17] = x207
    M[18] = x201
    M[19] = x204
    M[20] = x196
    M[21] = x98
    M[22] = x163
    M[23] = x207
    M[24] = parms[35] - 0.0825*parms[46]*x216 - 0.0825*parms[47]*x27 + 0.00680625*parms[49] + x15*(parms[41]*x27 + parms[43]*x15 + 0.0825*parms[46] + parms[48]*x212 - x235) + x212*(parms[48]*x15 + parms[49]*x212 + x222*x31 + x227*x65) - 0.0825*x222*x32 - 0.0825*x227*x31 + x27*(parms[40]*x27 + parms[41]*x15 - 0.0825*parms[47] + parms[48]*x208 + x232*x31 + x234*x65) + x97*(-parms[48]*x27 + parms[49]*x97 - parms[56]*x210 - parms[57]*x215 - parms[59]*x208 - x228 - x229)
    M[25] = x236
    M[26] = x235
    M[27] = x233
    M[28] = x80
    M[29] = x159
    M[30] = x201
    M[31] = x236
    M[32] = parms[45] + x31*(parms[51]*x32 + parms[53]*x31 - x243 - 0.088*x35*(-parms[67]*x238 + parms[68]*x237 + parms[69]*x242) - 0.088*x43*(parms[66]*x238 - parms[68]*x241 + parms[69]*x240)) + x32*(parms[50]*x32 + parms[51]*x31 + x244*x66 + x245*x43)
    M[33] = x246
    M[34] = x243
    M[35] = x86
    M[36] = x150
    M[37] = x204
    M[38] = x235
    M[39] = x246
    M[40] = parms[55] + 0.088*parms[66]*x43 - 0.088*parms[67]*x35 + 0.007744*parms[69] + x35*(parms[60]*x35 + parms[61]*x43 - 0.088*parms[67]) + x43*(parms[61]*x35 + parms[63]*x43 + 0.088*parms[66])
    M[41] = x247
    M[42] = x73
    M[43] = x152
    M[44] = x196
    M[45] = x233
    M[46] = x243
    M[47] = x247
    M[48] = parms[65]
#
    return M